# 计算机操作系统复习

## 填空 10题 20分

1. 文件的逻辑结构：

   * **无结构**的**流式**文件
   * **有结构**的**记录式**文件

2. 动态分区分配会留有内部碎片吗？

   * 不会，**固定式分区产生内碎片**，动态分区产生外碎片。

3. 某页式存储的地址结构有10位页号，6位页内地址 一共有多少页，每页多大？

   * 一**页的大小**可以通过页内地址的位数来计算，即2^6=64字节。因此，每一页的大小为64字节。
   * 由于页号有10位，所以它可以表示的**页数**是2^10=1024个页面。

4. 作业调度算法（FCFS,SJF,HRRN）

   * 笔记→理解过程
   * 周转时间和平均周转时间的计算。

5. **操作系统的四个特征**包括：

   1. **并发性**：同时管理多个程序或任务，允许它们在同一时间内进行交替执行。让用户感觉到多个程序在同时运行。

   2. **共享性**：多个程序同时共享硬件软件资源。

   3. **虚拟性**：指通过某种技术把一个物理实体变成若干个逻辑上的对应物。

   4. **异步性**：并发执行的多道程序“走走停停”，随时可能面对中断

6. 临界资源是指在并发访问时一次只能被一个进程或线程占用的系统资源，如打印机、硬盘等。为了保证多个进程或线程能够正确地访问临界资源，需要遵循以下四个基本原则：

   1. **空闲让进**
   2. **忙则等待**
   3. **有限等待**
   4. ==**让权等待**==

7. 常见的三种进程基本状态：

   1. **就绪状态**（Ready）：当进程已经准备好了所有需要的资源，并且可以立即被执行时，进程就处于就绪状态。此时，进程已经被加入到可执行进程队列，等待被分配CPU来执行。
   2. **运行状态**（Running）：当进程被分配到CPU并正在执行时，进程就处于运行状态。此时，进程会占用CPU的执行时间，处理自己的任务。
   3. ==**阻塞状态**==（Blocked）：当进程**需要等待某个事件的发生**，比如等待I/O操作完成或者等待信号量的释放时，进程就处于阻塞状态。此时，进程不能够继续执行，也不会占用CPU时间，直到需要等待的事件发生或者等待时间超时才会被唤醒并重新转换为就绪状态。

8. 动态分区分配的四种算法：

   * 熟悉分配和回收的过程。 P140

9. 基本分页（无快表）访问几次内存？

   * 每次内存访问需要两次访问：第一次访问页表，第二次访问物理内存，才能得到实际的物理地址数据。

10. 信号量n的值代表了什么？

   代表了当前可用的资源数目。

   * 当某个进程请求分配资源时，如果此时信号量的值大于等于 1，则表示有足够的可用资源，该进程可以直接获得资源并继续执行。
   * 如果信号量的值为0，则进程进入等待队列。程序阻塞.
   * 信号量变为负数，表示有多少个进程在等待资源分配，某个进程释放了一个资源时，信号量的值会增加 1，并且会唤醒信号量队列中一个等待资源的进程，使其变为就绪状态并可以继续执行。

11. 磁盘传输速率计算：

    要计算磁盘传输速率，需要知道磁盘的转速和每次读写操作能够读写的扇区数量。假设磁盘的转速为 R，单位为 RPM（每分钟转数），每个扇区的大小为 S，单位为字节（B），每次读写操作所需要的时间为 T，单位为秒（s），则磁盘的传输速率 V，单位为字节每秒（B/s），可以按照如下公式进行计算：

    V = R / 60 × S × N

    其中，N 表示每次读写操作能够读写的扇区数量，也称为每次传输的数据块大小。

    举例来说，如果磁盘的转速为 7200 RPM，每个扇区的大小为 512 B，每次读写操作能够读写 8 个扇区（即传输 4 KB 的数据），则传输速率 V 可以计算出来：

    V = 7200 / 60 × 512 × 8 ≈ 47.77 MB/s

    

## 判断 10题 10分

1. 动态分区分配，分配完后**剩下的内存空间和前后相邻的内存空间合并**。可以避免内存碎片的问题，但是会增大系统性能开销。

2. 引入**快表**的目的：**提高内存的访问速度**。

3. 银行家算法的安全序列**不唯一**。

4. 同步互斥 Wait操作的顺序**不可改变** Signal操作可**随意颠倒**

5. 多行or树行

6. **磁盘容量 = 磁盘总扇区数 x 每个扇区的字节数**

   例如，某个硬盘的容量为1TB（即1000GB），且每个扇区的字节数为512，则该硬盘的总扇区数为：

   1TB = 1000GB 1000GB × 1024MB/GB × 1024KB/MB × 1024B/KB ÷ 512B/sector = 2,199,023,255 sectors

7. 原语，一般是指由若干条指令组成的程序段，用来实现某个特定功能，在执行过程中不可被中断。也就是**屏蔽中断**

8. 页式地址将虚拟地址分成页号和页内偏移量两部分，页号用来表示所在的虚拟页表项，页内偏移量用来表示所在页内的具体位置。因此，**页式地址只有一维**，表现为一个线性的地址空间。

   而段式地址则将虚拟地址分成段号和段内偏移量两部分，**段式地址包含两维**信息：即需要查找对应的段表项和段内偏移量，这使得段式地址的映射比页式地址更加灵活和多样化。

9. 操作系统中，**调度的基本单位是进程，系统资源分配的基本单位是线程**。

10. 进程**不能**删除自己的PCB，PCB（进程控制块）是操作系统内核数据结构之一，用于描述进程的各种状态和属性信息。每个进程都对应一个 PCB，它在进程的整个生命周期中发挥着重要的作用，包括进程调度、资源管理、进程同步等方面。因此，在进程运行时，PCB需要一直存在，并且被操作系统内核所维护。

## 选择 15题 30分

1. 文件控制项包括哪些？

   1. **基本信息**
   2. **存取控制信息**
   3. **使用信息**

2. n个进程共享一个临界区，信号量的取值范围是**-n ~ 1**

3. 实现虚拟存储的原理是**局部性**

   局部性原理指的是在一段时间内，计算机程序倾向于访问一些相对集中的内存区域，而不是随意访问内存中的任何位置。这种局部性包括时间局部性和空间局部性两种类型。

   时间局部性指的是程序在某一时间段内多次访问同一内存区域的情况。例如，在循环执行语句时，程序会反复访问同一内存区域。空间局部性则指的是程序在某一时间段内访问的内存区域相对集中，通常是一段连续的代码或数据区域。例如，一个函数被调用时，程序可能需要访问该函数所在的代码和数据。

   基于局部性原理，实现虚拟存储可以将程序中经常访问的部分保存在内存中，而将不经常访问的部分保存在外部存储器中，当程序需要访问这些部分时再将其调入内存中。这样可以降低内存使用量，提高程序执行效率。

4. 进程的状态转换包括从就绪状态到执行状态、从执行状态到阻塞状态、以及从阻塞状态到就绪状态。**从阻塞到执行是一般来说是不可能的**

5. 用户通过**系统调用**来获得操作系统的服务

6. 在分时系统中,为了使100个用户的响应时间不超过2s,时间片最大应为 2s/100 = 50ms

7. 临界资源的四个基本原则

   1. **空闲让进**
   2. **忙则等待**
   3. **有限等待**
   4. ==**让权等待**==

8. 时间片算法 时间片到了什么状态 **就绪状态**（正在执行的一个程序，执行完一个时间片后，没有结束的话，将会排到队尾，依然是就绪状态）

9. 在操作系统中，调度算法有多种，其中一些调度算法可能会导致作业饥饿（Job Starvation）。

   作业饥饿是指某些进程或线程长时间无法获得CPU时间片的情况。当使用某些调度算法时，一些高优先级的作业或进程可能会一直占据CPU，而低优先级的作业或进程则一直得不到执行的机会，这就导致了作业饥饿。

   以下是几种可能导致作业饥饿的调度算法：

   1. **先来先服务**（**FCFS**）：在 FCFS 调度算法中，进入就绪队列的进程按照它们请求 CPU 的顺序进行调度。如果有一个长时间运行的作业出现在队列头部，那么后面的作业可能就会等待很长时间才能得到CPU时间片，从而导致作业饥饿。
   2. **优先级调度算法**（**Priority Scheduling**）：优先级调度算法中，被赋予高优先级的作业将优先于低优先级的作业执行。如果某个作业被赋予极高的优先级，那么其他优先级较低的作业可能永远无法获得CPU时间，从而导致作业饥饿。
   3. **短作业优先**（**SJF**）调度算法：SJF 调度算法中，短期进程会优先获得CPU时间片。如果短期进程数量过多，那么长期进程可能就会被忽略，从而导致作业饥饿。

   为了避免作业饥饿的发生，通常采用一些比较公平的调度算法，如时间片轮转调度算法、多级队列反馈调度算法等，这些算法可以有效地均衡系统资源的利用，从而保证所有作业都能够得到合理的执行机会。

10. 系统资源分配的基本原则有：

    1. **公平性**：操作系统需要有一套合理的资源分配策略，确保所有进程或任务都能够获得相同的机会访问系统资源。例如，对于 CPU 时间片轮转调度算法中，每个进程被分配相同的时间片，从而实现了公平性。
    2. **高效性**：操作系统还需要优化资源分配，保证系统性能的最大化。例如，在多道程序环境下，操作系统需要能够快速地切换进程，尽可能地减少进程切换的开销，从而提高系统的响应速度。
    3. **安全性**：操作系统需要对所有用户和任务进行安全授权和权限管理，防止资源被未授权的用户或任务滥用。例如，操作系统可以通过访问控制机制来限制进程对资源的访问，或者使用加密技术来保护数据的安全。

11. **进程存在的唯一标识是PCB，也就是进程控制块**。

12. 虚拟存储的四个基本特征

    1. **抽象性**：虚拟存储向程序提供了一个抽象的地址空间，这个地址空间可以超出实际物理内存的大小。程序访问的地址不是直接映射到物理内存上，而是由操作系统进行管理，通过虚拟地址和物理地址之间的映射关系，将程序需要的数据从磁盘加载到内存中。
    2. **多次性**：虚拟存储允许多个程序在同一时刻并行运行，每个程序都拥有自己独立的虚拟地址空间和一部分物理内存。当物理内存不足以满足程序需要时，在内存与硬盘之间进行数据交换，使得多个程序在共享有限内存的同时，不会相互干扰。
    3. **对换性**：虚拟存储使用对换技术（Swapping）将当前不需要的数据从内存移出到硬盘中，以释放内存空间给正在执行的程序使用。当需要时，再从硬盘中把这些数据换回内存。因此，虚拟存储可以把逻辑上连续的地址空间对应到物理上非连续的存储区域上。
    4. **共享性**：虚拟存储允许多个进程共享同一份代码和数据。对于只读的程序和数据，它们可以被多个进程共享在内存中，减少了内存的浪费，提高了系统的效率和使用效益，同时也便于程序员编写程序和管理数据。

13. 操作系统的基本功能：

    1. **进程管理**，其工作主要是进程调度，在单用户单任务的情况下，处理器仅为一个用户的一个任务所独占， 进程管理的工作十分简单。但在多道程序或多用户的情况 下，组织多个作业或任务时，就要解决处理器的调度、 分配和回收等问题 。
    2. **存储管理**分为几种功能：存储分配、存储共享、存储保护 、存储扩张。
    3. **设备管理**分有以下功能：设备分配、设备传输控制 、设备独立性。
    4. **文件管理**：文件存储空间的管理、目录管理 、文件操作管理、文件保护。
    5. **作业管理**是负责处理用户提交的任何要求。

14. 文件可以是二进制或者字符，文件如果是字符类型的，通常是以流式的方式进行读写操作的。

15. ![img](https://img-blog.csdn.net/20140704144028203?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvbGl1MjUxODkwMzQ3/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

    ## 计算与问答 6题 30分

16. 第四章 存储管理 什么是外部，内部碎片？
17. 基本分页存储结构 转换物理地址 多少页，大小，页号
18. 基本分段存储结构 转换物理地址
19. 内存分配 -可变 4种算法 首次 循环 最佳 最坏 递增顺序过程，分配过程
20. 第六章 磁盘调度算法 4种 会求平均寻道时间即可
21. 请求分页算法 3种 会算页面走向 缺页时间 缺页率（若没有明确指出，缺页率需要算上刚开始为空时的几项）
22. 页面置换算法 抖动现象 缺页率不降反升 也称费兰迪现象

## 综合 1题 10分

银行家算法计算安全序列